article {
    --highlighted: 100, 116, 139;
    --deleted: 220, 38, 38;
    --deleted-text: #dc2626;
    --added: 34, 197, 94;
    --added-text: #059669;
    --warning: 245, 158, 11;

    p,
    ul,
    ol,
    blockquote,
    pre {
        margin-bottom: .8rem;
    }
    
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        margin-top: 2rem;
        margin-bottom: 1rem;
    }

    code:not(:is(pre code)) {
        background-color: rgba(var(--highlighted), .25);
        padding: .2em .5em;
        font-size: 85%;
        border-radius: .3rem;
    }
    
    pre {
        border-width: 1px !important;
        border-radius: .5rem;
        padding: 1.25rem 0;
        position: relative;
        overflow-x: auto;

        code {
            background-color: transparent;
        }

        &:not(.shiki) {
            padding: 1.25rem;
        }

        .line {
            display: block;
            height: 1.5em;
            min-width: 100%;
            padding: 0 1.25rem;

            &.highlighted {
                background-color: rgba(var(--highlighted), .2);

                &.error {
                    --highlighted: var(--deleted);
                }

                &.warning {
                    --highlighted: var(--warning);
                }
            }

            &.diff.remove {
                background-color: rgba(var(--deleted), .2);
                > span {
                    opacity: .6;
                }

                &::before {
                    content: "-";
                    color: var(--deleted-text);
                }
            }

            &.diff.add {
                background-color: rgba(var(--added), .2);

                &::before {
                    content: "+";
                    color: var(--added-text);
                }
            }

            &.diff::before {
                position: absolute;
                left: .5rem;
            }
        }
    }
}

@media (prefers-color-scheme: dark) {
    pre {
        border-color: transparent;
    }

    .shiki {
        color: var(--shiki-dark) !important;
        background-color: var(--shiki-dark-bg) !important;
    }
    
    .shiki span {
        color: var(--shiki-dark) !important;

    }
}